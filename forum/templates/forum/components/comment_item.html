<div class="comment">
    <strong>{{ comment.author.username }}</strong>
    <div id="comment-{{ comment.id }}"></div>  <!-- Editor.js will render content here -->
    <button onclick="upvoteComment({{ comment.id }})">Upvote ({{ comment.upvotes }})</button>

    {% if request.user == comment.author %}
        <button onclick="editComment({{ comment.id }})">Edit</button>
        <button onclick="deleteComment({{ comment.id }})">Delete</button>
    {% endif %}

    <button onclick="showReplyForm({{ comment.id }})">Reply</button>
    <div id="reply-form-{{ comment.id }}" style="display: none;">
        <div id="editor-reply-{{ comment.id }}"></div>
        <button onclick="submitReply({{ comment.id }})">Post Reply</button>
    </div>

    <script>
        const editor = createEditor(
            "comment-{{ comment.id }}",
            comment.content,
            '{{ csrf_token }}',
            true
        );
    </script>

    {% if comment.replies.all %}
        <div class="nested-comments">
            {% for reply in comment.replies.all %}
                {% include 'comment_item.html' with comment=reply %}
            {% endfor %}
        </div>
    {% endif %}
</div>
